iitxt - это набор простых скриптов для работы с нодой ii-сети.

Для получения почты используется get.sh. Он создаёт внутреннюю базу сообщений в директории base, пользовательскую базу в директории mail и файл новых сообщений newmsg.txt.

Внутрення база - это классическая для ii база сообщений. Подробнее о её структуре можно почитать здесь http://ii-net.tk/ii-doc/?p=2. Так же в директории base находится поддиректория out, содержащая все отправленные сообщения.

Пользовательская база содержит сообщения в удобоваримой для человека форме. Каждая эхоконференция представлена отдельной директорией. В них находятся файлы сообщений и файл 0000.txt, содержащий все сообщения эхоконференции.

Отправка сообщений осуществляется очень просто. Нужно всего лишь создать в директории эхоконференции файл, содержащий подстроку "new".

Структура такого файла зависит от его назначения. Для нового сообщения она будет выглядеть следующим образом:

====
All
Тема сообщения

Текст сообщения.
====

Для ответа на существующее сообщение файл выглядит так:

====
msgid
Кому
Тема сообщения

Текст сообщения.
====

где msgid - это уникальный номер сообщения (можно просто скопировать файл сообщения, на который вы хотите ответить, в файл new и отредактировать его).

Когда все исходящие сообщения написаны, нужно просто запустить send.sh и тем самым отправить их на ноду.

Адрес ноды, строку аутентификации и список эхоконференций для получения необходимо указать в файле config.cfg.